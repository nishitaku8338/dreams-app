<section class="hero is-warning">
  <div class="hero-body">
    <div class="container">
      <h1 class="title">
        夢語者一覧
      </h1>
    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <div class="columns is-multiline">
      <% @users.each do |user| %>
        <div class="column is-3">
          <div class="card">
            <div class="card-content">
              <div class="card-image">
                <figure class="image">
                  <%= link_to user_path(user) do %>       <%# 画像をクリックしたらユーザーの詳細ページに遷移する %>
                    <% if user.profile_image.present? %>  <%# プロフィール画像がある場合表示する %>
                      <%= image_tag user.profile_image.variant(gravity: :center, resize:"640x640^", crop:"640x640+0+0").processed %>
                    <% else %>                            <%# プロフィール画像がない場合サンプル画像を表示する %>
                      <%= image_tag "user_image.png" %>
                    <% end %>
                  <% end %>
                </figure>
              </div>
            </div>
            <div class="card-content">
              <div class="media">
                <div class="media-content">
                  夢語者
                  <div class="title"><%=link_to user.username, user_path(user) %></div>  <%# ユーザーの名前をクリックしたらユーザーの詳細ページに遷移する %>
                </div>
              </div>
              <div class="content">
                📃投稿数：<%= user.dreams.count %>  <%# ユーザーに紐づいている夢語をカウントする %>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</section>